# OQuake – File list and version docs

## Why there are multiple “version” files

Same idea as ODOOM: **one source**, **generated outputs**.

| Role | File | Description |
|------|------|-------------|
| **Single source (edit only this)** | **Version/oquake_version.txt** | Line 1 = version, line 2 = build number. Only file you edit for version. |
| **Generator** | **Scripts/generate_oquake_version.ps1** | Reads Version/oquake_version.txt; writes Code/oquake_version.h and Version/version_display.txt. |
| **Generated (do not edit)** | **Code/oquake_version.h** | C header (`OQUAKE_VERSION`, `OQUAKE_BUILD`, `OQUAKE_VERSION_STR`). |
| **Generated** | **Version/version_display.txt** | Human string e.g. `1.0 (Build 1)` for scripts/display. |

So: **Version/oquake_version.txt** = source of truth; the rest are outputs. No redundancy.

---

## Folder layout – OQuake

| Folder | Contents |
|--------|----------|
| **Code/** | STAR integration C/h, engine example, star_api/star_sync (when present), generated oquake_version.h. |
| **Scripts/** | generate_oquake_version.ps1, COPY_TO_QUAKE_AND_BUILD.ps1. |
| **Version/** | oquake_version.txt (edit only this), version_display.txt (generated). |
| **Docs/** | All .md documentation (WINDOWS_INTEGRATION, RELEASE_NOTES, etc.). |
| **Images/** | face_anorak.png, oasis_splash.png. |
| **vkquake_oquake/** | vkQuake-specific files (pr_ext_oquake.c, apply script, integration doc). |
| **build/** | Build output (OQUAKE.exe, star_api.dll); regenerated by build. |

---

## Full file list – OQuake

### Version (source + generated)

| File | Description |
|------|-------------|
| **Version/oquake_version.txt** | **Edit only this** for version and build. |
| **Scripts/generate_oquake_version.ps1** | Generates Code/oquake_version.h and Version/version_display.txt. |
| **Code/oquake_version.h** | Generated C header for branding. |
| **Version/version_display.txt** | Generated display string. |

### Build and run

| File | Description |
|------|-------------|
| **BUILD_OQUAKE.bat** | Build star_api, copy OQuake + STAR into quake-rerelease-qc (and vkQuake if set), build engine; copies OQUAKE.exe + star_api.dll to `build\`. |
| **RUN OQUAKE.bat** | Launch OQuake (build first if needed). |
| **COPY_TO_QUAKE_AND_BUILD.ps1** | Copy integration into quake tree; used/called by build flow. |
| **vkquake_oquake/apply_oquake_to_vkquake.ps1** | Copies OQuake/vkQuake files into vkQuake’s Quake folder. |
| **vkquake_oquake/pr_ext_oquake.c** | vkQuake extension builtins (STAR key pickup, door check). |
| **vkquake_oquake/README.md** | Short note on vkQuake + OQuake. |
| **vkquake_oquake/VKQUAKE_OQUAKE_INTEGRATION.md** | host.c / pr_ext.c / project integration steps. |

### STAR integration (source)

| File | Description |
|------|-------------|
| **Code/oquake_star_integration.c** | STAR init, key pickup, door check. |
| **Code/oquake_star_integration.h** | Declarations. |
| **Code/engine_oquake_hooks.c.example** | Example engine hooks (Host_Init, key pickup, door); reference only. |

### Documentation

| File | Description |
|------|-------------|
| **README.md** | Quick start, doc index, files table, cross-game keys. |
| **WINDOWS_INTEGRATION.md** | Full Windows setup, game data, troubleshooting. |
| **CREDITS_AND_LICENSE.md** | vkQuake credit and GPL-2.0. |
| **RELEASE_NOTES.md** | Version history and release notes. |
| **CONTRIBUTING.md** | How to contribute. |
| **LICENSE** | Short license summary + GPL-2.0. |
| **ENGINE_RECOMMENDATION.md** | Why vkQuake is recommended. |
| **ENGINE_COMPARISON.md** | vkQuake vs QuakeSpasm vs Ironwail. |
| **INTEGRATION_INSTRUCTIONS.md** | High-level steps to turn a Quake engine into OQuake (STAR hooks, keys, doors). |
| **FILES_AND_VERSIONS.md** | This file. |

### Other

| File | Description |
|------|-------------|
| **history.txt** | Optional / legacy; not required for build. |
| **Images/oasis_splash.png** | Optional splash asset. |
| **Images/face_anorak.png** | Anorak face for HUD when beamed in. |
| **build/** | Build output (OQUAKE.exe, DLLs); regenerated by build. |

---

## Possible redundancy (OQuake)

- **ENGINE_COMPARISON.md** vs **ENGINE_RECOMMENDATION.md**: Comparison is a short table and “which engine when”; Recommendation is “use vkQuake” and how. They complement each other; both can stay. If you want one doc only, merge “recommendation” into ENGINE_COMPARISON.md and remove ENGINE_RECOMMENDATION.md.
- **INTEGRATION_INSTRUCTIONS.md** vs **vkquake_oquake/VKQUAKE_OQUAKE_INTEGRATION.md**: First is engine-agnostic (any Quake port); second is vkQuake-specific (host.c, pr_ext). Different scope—keep both unless you only ever support vkQuake, then you could fold the generic steps into the vkQuake doc.
- **history.txt**: If it’s old changelog or duplicate of RELEASE_NOTES.md, it can be removed or replaced by a one-line pointer to RELEASE_NOTES.md.

No other redundancy; version files are source vs generated.
